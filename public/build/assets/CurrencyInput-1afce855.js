import{r as a,j as u,R as d}from"./app-fbbc2228.js";import{r as x}from"./index-ee38eedf.js";import{C as f}from"./COUNTRIES-4fa12db1.js";import{S as y}from"./SelectInput-95bb5c79.js";import"./index-dd334722.js";import"./index-387d7a00.js";import"./ErrorMessage-9a1c9b5d.js";function j({form:s,chosenCountry:c}){let t=a.useMemo(()=>f.filter(e=>{var r,n,m,p;return((n=(r=e.currencies)==null?void 0:r[0])==null?void 0:n.name)&&((p=(m=e.currencies)==null?void 0:m[0])==null?void 0:p.symbol)}).sort((e,r)=>e.currencies[0].name>r.currencies[0].name?1:e.currencies[0].name<r.currencies[0].name?-1:0).filter((e,r,n)=>n.length>r+1&&e.currencies[0].name!==n[r+1].currencies[0].name),[]);function l(e){let r=null;return e!==null&&(r=t.findIndex(n=>n.name==e.name)),r===-1&&(r=null),r}a.useEffect(()=>{let e=l(c);e&&(o(e),s.setData("currency",t[e].currencies[0].symbol))},[c]);const[i,o]=a.useState(l(c));return u.jsx(y,{label:"Currency",value:i==null?void 0:i.toString(),errorMsg:s.errors.currency,hideError:s.isDirty("currency"),disabled:s.processing,onChange:e=>{o(Number(e)),s.setData("currency",t[Number(e)].currencies[0].symbol)},required:!0,selected:e=>e&&d.cloneElement(e,{disabled:!0,className:"flex items-center opacity-100 px-0 gap-2 pointer-events-none"}),children:t.map((e,r)=>u.jsxs(x.Option,{value:r.toString(),className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-7 text-gray-900",children:e.currencies[0].symbol}),e.currencies[0].name]},r))})}export{j as default};
